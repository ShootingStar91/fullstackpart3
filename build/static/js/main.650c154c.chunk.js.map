{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["url","service","getAll","callBack","axios","get","then","response","data","create","person","post","deletePerson","person_id","errorCallBack","delete","catch","error","update","put","id","ShowError","message","className","ShowMessage","DeleteButton","props","onClick","handleDeleteButton","value","FilteringForm","onChange","handleFilterChange","AddingForm","onSubmit","addEntry","handleNameChange","handleNumberChange","type","DisplayPersons","shownNames","map","name","number","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setShownNames","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","console","log","event","target","toLowerCase","newShownNames","filter","includes","preventDefault","length","window","confirm","find","newPerson","setTimeout","newPersonList","concat","personId","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.650c154c.chunk.js","sourcesContent":["\nimport axios from 'axios'\n\nconst url = `/api/persons`\n\nconst getAll = (callBack) => {\n  let result = axios\n                  .get(url)\n                  .then(response => {\n                    callBack(response.data)\n                  })\n  return result\n}\n\nconst create = person => {\n  const request = axios.post(url, person)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = (person_id, callBack, errorCallBack) => {\n  const request = axios.delete(`${url}/${person_id}`)\n  .then(response => {callBack()}).catch((error) => errorCallBack)\n  return(request)\n}\n\nconst update = person => {\n\n  const request = axios.put(`${url}/${person.id}`, person)\n  return (request)\n}\n\nconst service = {\n  getAll, create, deletePerson, update\n}\n\nexport default service","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst ShowError = ( { message } ) => {\n  if (message === null) {\n    return null\n  }\n  \n  return <div className=\"error\">{message}</div>\n}\n\nconst ShowMessage = ( { message } ) => {\n  if (message === null) {\n    return null\n  }\n  \n  return <div className=\"success\">{message}</div>\n}\n\nconst DeleteButton = (props) => {\n  return (\n    <button onClick={props.handleDeleteButton} value={props.id}>Poista</button>\n  )\n}\n\nconst FilteringForm = (props) => {\n  return (\n    <div>\n    <p>Suodata näytetyt nimet: </p>\n        <p><input onChange={props.handleFilterChange}/></p>\n    </div>\n  )\n}\n\nconst AddingForm = (props) => {\n  return (\n    <div>\n      <form onSubmit={props.addEntry}>\n        Nimi: <input onChange={props.handleNameChange} />\n        <div>\n          Puhelinnumero: <input onChange={props.handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">Lisää</button>\n        </div>\n      </form>\n    </div>\n    )\n}\n\nconst DisplayPersons = (props) => {\n  return (\n    <div>\n      {props.shownNames.map((person) => \n        <p key={person.id}>{person.name} {person.number} \n          <DeleteButton handleDeleteButton={props.handleDeleteButton} id={person.id} />\n        </p>\n      )}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([\n    { name: 'Hard Coded', number: '040-123456', id: '1' },\n  ]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ shownNames, setShownNames ] = useState(persons)\n  const [ successMessage, setSuccessMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    const result = personService.getAll((data) => {\n      setPersons(data)\n      setShownNames(data)\n    })\n    result.catch((error) => console.log(error))\n  }, [])\n\n  const addEntry = (event) => {\n    event.preventDefault()\n\n    // Check if exists\n    if (persons.filter(person => person.name === newName).length > 0) {\n      const confirm = window.confirm(`Muutetaanko henkilön ${newName} puhelinnumeroa?`)\n      if (!confirm) { return }\n\n      // Update old number\n      const id = persons.find((person) => person.name === newName).id\n      const newPerson = {name: newName, number: newNumber, id: id}\n      personService.update(newPerson,\n        ).then((response) => {\n        setSuccessMessage(\"Puhelinnumero päivitettiin onnistuneesti!\")\n        setTimeout(() => {\n          setSuccessMessage(null)\n    \n        }, 5000)\n      }).catch(error => {\n        setErrorMessage(error.response.data)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n      \n      const newPersonList = persons.filter((person) => person.id !== id).concat(newPerson)\n      setPersons(newPersonList)\n      setShownNames(newPersonList)      \n\n      return\n    }\n    const newPerson = {name: newName, number: newNumber}\n\n    // Send to server\n    personService.create(newPerson)\n      .then((newPerson) => {\n        const newPersonList = persons.concat(newPerson)\n        setPersons(newPersonList)\n        setShownNames(newPersonList)\n        setSuccessMessage(\"Puhelinnumero lisättiin onnistuneesti\")\n        setTimeout(() => {\n          setSuccessMessage(null)\n    \n        }, 5000)\n      }).catch((error) => {\n        console.log(error.response.data.error)\n        setErrorMessage(error.response.data.error)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n\n  }\n\n  const handleFilterChange = (event) => {\n    const name = event.target.value.toLowerCase()\n    if (name === '') {\n      setShownNames(persons)\n      return\n    }\n    const newShownNames = persons\n      .filter(person => person.name.toLowerCase().includes(name))\n    setShownNames(newShownNames)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleDeleteButton = (event) => {\n    const personId = event.target.value\n    const confirm = window.confirm(\"Poistetaanko \" + persons.find((person) => person.id === personId))\n    if (!confirm) {\n      return\n    }\n    personService.deletePerson(personId, () => {\n      const newPersonList = persons.filter((person) => person.id !== personId)\n      setPersons(newPersonList)\n      setShownNames(newPersonList)\n      setSuccessMessage(\"Puhelinnumero poistettiin onnistuneesti\")\n      setTimeout(() => {\n        setSuccessMessage(null)\n  \n      }, 5000)\n    },\n    () => {\n      setErrorMessage(\"Puhelinnumero on jo aiemmin poistettu\")\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    })\n\n\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <ShowMessage message={successMessage}/>\n      <ShowError message={errorMessage}/>\n      <FilteringForm handleFilterChange={handleFilterChange} />\n      <h3>Lisää numero</h3>\n      <AddingForm handleNameChange={handleNameChange} \n                  handleNumberChange={handleNumberChange}\n                  addEntry={addEntry} />\n      <h3>Numerot</h3>\n      <DisplayPersons shownNames={shownNames} handleDeleteButton={handleDeleteButton} />\n    </div>\n  )\n\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}