(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var i=t(2),c=t.n(i),u=t(16),o=t.n(u),r=(t(22),t(17)),a=t(3),s=t(5),l=t.n(s),d=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT,"/api/persons"),j=function(e){return l.a.get(d).then((function(n){e(n.data)}))},h=function(e){return l.a.post(d,e).then((function(e){return e.data}))},f=function(e,n,t){return l.a.delete("".concat(d,"/").concat(e)).then((function(e){n()})).catch((function(e){return t}))},b=function(e){return l.a.put("".concat(d,"/").concat(e.id),e)},O=t(0),m=function(e){var n=e.message;return null===n?null:Object(O.jsx)("div",{className:"error",children:n})},v=function(e){var n=e.message;return null===n?null:Object(O.jsx)("div",{className:"success",children:n})},x=function(e){return Object(O.jsx)("button",{onClick:e.handleDeleteButton,value:e.id,children:"Poista"})},g=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Suodata n\xe4ytetyt nimet: "}),Object(O.jsx)("p",{children:Object(O.jsx)("input",{onChange:e.handleFilterChange})})]})},p=function(e){return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:e.addEntry,children:["Nimi: ",Object(O.jsx)("input",{onChange:e.handleNameChange}),Object(O.jsxs)("div",{children:["Puhelinnumero: ",Object(O.jsx)("input",{onChange:e.handleNumberChange})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{type:"submit",children:"Lis\xe4\xe4"})})]})})},C=function(e){return Object(O.jsx)("div",{children:e.shownNames.map((function(n){return Object(O.jsxs)("p",{children:[n.name," ",n.number,Object(O.jsx)(x,{handleDeleteButton:e.handleDeleteButton,id:n.id})]},n.id)}))})},S=function(){var e=Object(i.useState)([{name:"Hard Coded",number:"040-123456",id:"1"}]),n=Object(a.a)(e,2),t=n[0],c=n[1],u=Object(i.useState)(""),o=Object(a.a)(u,2),s=o[0],l=o[1],d=Object(i.useState)(""),x=Object(a.a)(d,2),S=x[0],T=x[1],P=Object(i.useState)(t),N=Object(a.a)(P,2),E=N[0],w=N[1],D=Object(i.useState)(null),_=Object(a.a)(D,2),F=_[0],L=_[1],B=Object(i.useState)(null),k=Object(a.a)(B,2),y=k[0],R=k[1];Object(i.useEffect)((function(){j((function(e){c(e),w(e)})).catch((function(e){return console.log(e)}))}),[]);return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Puhelinluettelo"}),Object(O.jsx)(v,{message:F}),Object(O.jsx)(m,{message:y}),Object(O.jsx)(g,{handleFilterChange:function(e){var n=e.target.value.toLowerCase();if(""!==n){var i=t.filter((function(e){return e.name.toLowerCase().includes(n)}));w(i)}else w(t)}}),Object(O.jsx)("h3",{children:"Lis\xe4\xe4 numero"}),Object(O.jsx)(p,{handleNameChange:function(e){l(e.target.value)},handleNumberChange:function(e){T(e.target.value)},addEntry:function(e){if(e.preventDefault(),t.filter((function(e){return e.name===s})).length>0){if(!window.confirm("Muutetaanko henkil\xf6n ".concat(s," puhelinnumeroa?")))return;var n=t.find((function(e){return e.name===s})).id,i={name:s,number:S,id:n};b(i).then((function(e){L("Puhelinnumero p\xe4ivitettiin onnistuneesti!"),setTimeout((function(){L(null)}),5e3)})).catch((function(e){R(e.response.data),setTimeout((function(){R(null)}),5e3)}));var u=t.filter((function(e){return e.id!=n})).concat(i);return c(u),void w(u)}var o={name:s,number:S};[].concat(Object(r.a)(t),[o]);h(o).then((function(e){var n=t.concat(e);c(n),w(n),L("Puhelinnumero lis\xe4ttiin onnistuneesti"),setTimeout((function(){L(null)}),5e3)})).catch((function(e){console.log(e.response.data.error),R(e.response.data.error),setTimeout((function(){R(null)}),5e3)}))}}),Object(O.jsx)("h3",{children:"Numerot"}),Object(O.jsx)(C,{shownNames:E,handleDeleteButton:function(e){var n=e.target.value;window.confirm("Poistetaanko "+t.find((function(e){return e.id===n})))&&f(n,(function(){var e=t.filter((function(e){return e.id!==n}));c(e),w(e),L("Puhelinnumero poistettiin onnistuneesti"),setTimeout((function(){L(null)}),5e3)}),(function(){R("Puhelinnumero on jo aiemmin poistettu"),setTimeout((function(){R(null)}),5e3)}))}})]})},T=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,i=n.getFID,c=n.getFCP,u=n.getLCP,o=n.getTTFB;t(e),i(e),c(e),u(e),o(e)}))};o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root")),T()}},[[42,1,2]]]);
//# sourceMappingURL=main.43e873d4.chunk.js.map